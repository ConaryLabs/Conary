# recipes/core/dev/ninja.toml
#
# Ninja - Small build system with a focus on speed
#
# Fast build system, default backend for CMake and Meson.

[package]
name = "ninja"
version = "1.13.1"
release = "1"
summary = "Small build system with focus on speed"
description = """
Ninja is a small build system with a focus on speed. It differs
from other build systems in two major respects: it is designed
to have its input files generated by a higher-level build system,
and it is designed to run builds as fast as possible.
"""
license = "Apache-2.0"
homepage = "https://ninja-build.org"

[source]
archive = "https://github.com/ninja-build/ninja/archive/v%(version)s/ninja-%(version)s.tar.gz"
checksum = "sha256:FIXME_ACTUAL_CHECKSUM"

[build]
requires = ["glibc"]
makedepends = ["gcc", "python"]

# Ninja builds itself with a Python script
configure = ""

make = """
python configure.py --bootstrap
"""

install = """
install -Dm755 ninja %(destdir)s/usr/bin/ninja
"""

[variables]
jobs = "$(nproc)"
